<div class="player-controls">
  <div class="player-content">
    <div class="track-info">
      <div class="track-image" *ngIf="currentTrack">
        <img 
          [src]="currentTrack.albumImage || 'assets/default-music.png'" 
          [alt]="currentTrack.name"
        >
      </div>
      <div class="track-image placeholder" *ngIf="!currentTrack" style="display: grid; place-items: center; background: #282828;">
        <span class="material-symbols-rounded" style="font-size: 28px; color: #666;">music_note</span>
      </div>
      
      <div class="track-details">
        <div class="track-name">
          {{ currentTrack?.name || 'Sin reproducción' }}
        </div>
        <div class="track-artist">
          {{ currentTrack?.artistName || 'Selecciona una canción' }}
        </div>
      </div>
    </div>

    <div class="player-center">
      <div class="player-buttons">
        <button class="control-btn secondary" (click)="toggleShuffle()" title="Aleatorio">
          <span class="material-symbols-rounded" style="font-size: 20px;">shuffle</span>
        </button>
        
        <button class="control-btn secondary" (click)="previous()" title="Anterior">
          <span class="material-symbols-rounded" style="font-size: 28px;">skip_previous</span>
        </button>
        
        <button class="control-btn primary" (click)="togglePlay()" title="Reproducir/Pausar" style="background: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: none; cursor: pointer;">
          <span class="material-symbols-rounded" style="font-size: 28px; color: black;" *ngIf="!isPlaying">play_arrow</span>
          <span class="material-symbols-rounded" style="font-size: 28px; color: black;" *ngIf="isPlaying">pause</span>
        </button>
        
        <button class="control-btn secondary" (click)="next()" title="Siguiente">
          <span class="material-symbols-rounded" style="font-size: 28px;">skip_next</span>
        </button>
        
        <button class="control-btn secondary" (click)="toggleRepeat()" title="Repetir">
          <span class="material-symbols-rounded" style="font-size: 20px;">repeat</span>
        </button>
      </div>

      <div class="progress-container">
        <span class="time">{{ formatTime(currentTime) }}</span>
        <input 
          type="range" 
          class="progress-bar"
          min="0" 
          [max]="duration" 
          [value]="currentTime"
          (input)="seek($event)"
          [disabled]="!currentTrack?.previewUrl"
        >
        <span class="time">{{ formatTime(duration) }}</span>
      </div>
    </div>

    <div class="player-right">
      <div class="volume-control">
        <button class="control-btn secondary volume-icon">
          <span class="material-symbols-rounded" style="font-size: 20px;">
            {{ volume === 0 ? 'volume_off' : (volume < 50 ? 'volume_down' : 'volume_up') }}
          </span>
        </button>
        <input 
          type="range" 
          class="volume-slider"
          min="0" 
          max="100" 
          [value]="volume"
          (input)="changeVolume($event)"
        >
      </div>
    </div>
  </div>
</div>